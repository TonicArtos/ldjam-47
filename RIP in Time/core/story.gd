class_name Story

const text = {
	"msg from future1": """Transmitted: 00:13:06 10 October 3030 EET
	Received: 00:10:18 10 October 3030 EET""",
	
	"msg from future2": "The main ship reactor has malfunctioned and the R.I.P. drive has become unstable. Error code 137: foreign contaminant in the recursion continuum fluid. You must enter the reactor room, remove the contaminant, and repair the fault. The RIP drive will undergo catastrophic meltdown after activation, so you can use it only once. Good luck.",
	
	"key delivered": """A security fob falls to the ground from an unusual rip in the fabric of reality.
	""",
	
	"look at rip room": "This is the R.I.P. Drive room.",
	
	"look at link room": "This is the cryo-pod link. The human crew members are safely asleep in their chilled pods.",
	
	"look at bridge room": "This is the bridge. It is the main control center of the ship.",
	
	"look at reactor room": "This is the reactor room. It powers the ship's vital functions.",
	
	"throw key": "The key vanishes.",
	
	"carrying battery": """Mini-Fuse 5778K
	'The power of the Sun in the palm of your hand.'""",
	
	"look at battery": """There is a mini fusion battery on the ground.""",
	
	"pick up battery": """Mini-Fuse 5778K
	“The power of the Sun in the palm of your hand.”""",

	"operate rip drive": """Commencing primary ignition.......................................
	Fault detected!""",
	
	"rip drive running": "The RIP drive terminal doesn't respond. The modification must have blown its logic circuits once it started the RIP operation.",
	
	"inspect rip drive": "The R.I.P. drive appears undamaged by the strange vibration. There is an auxiliary battery plugged in.",
	
	"remove battery": """Mini-Fuse 5778K
	“The power of the Sun in the palm of your hand.”""",
	
	"inspect rip drive battery gone": """The R.I.P. drive appears undamaged by the strange vibration. The socket for the auxiliary battery is empty.""",
	
	"already carrying item": "You are already carrying an item",
	
	"anfelice gray": """ANFELICE GRAY""",
	
	"anfelice gray journal": """Date: 14:14:59 17 September 3030 EET

	Last time we went to sleep, I had the worst nightmare. A tiny black hole blasted through the ship and sucked us in one by one. Even though we're meant to be near-dead in the cryo-pods, I felt the terror in my bones. It made me dread this sleep. I hope we don't have to do many more jumps after this, because I don't think I can take it.""",
	
	"anfelice gray waking": """Waking routine activated.""",
	
	"start wake cycle": """The pod changes from cooling mode to thawing mode and the EEG monitor starts to beep as the human's wetware begins to reactivate. This will take some time.""",

	"whetu ng": """WHETU NG""",

	"whetu ng journal": """Date: 13:58:32 17 September 3030 EET
	
	REMINDER FOR WHEN YOU’RE AWAKE! Steve owes you 20 ripcoins. Don't let him scam you this time.""",
	
	"whetu ng waking":  """Waking routine activated.""",
	
	"steve lowry": """STEVE LOWRY""",

	"steve lowry journal": """Date: 18:06:56 17 September 3030 EET

	Robbie's getting smarter. The other day, I told her that the eliminator in cubicle 6 was busted. When she went to inspect it, I put a cucumber behind her so she'd see it and freak out when she turned around. I thought she was just checking out the plumbing, so I waited a bit, but then she asked me to get her a plunger. I turned around and tripped right over her damn arm! I don't know how she got it there without me noticing, but boy did it hurt when I hit the floor. We should turn the gravity down in this place.""",
	
	"steve lowry waking": """Waking routine activated.""",
	
	"jonie hoff": """JONIE HOFF""",

	"jonie hoff journal": """Date: 11:12:13 17 September 3030 EET

	I'm tired of the finance industry. We're out here doing the hard labour while the fat cats are windsurfing on Europa or whatever it is they do all day. When my tour is over, my friends will all be retired and kicking back with their grandkids, and I'm going to be in my thirties. Don't even get me started on the nightmares...""",
	
	"jonie hoff waking": """Waking routine activated.""",
	
	"reddy koppel": """REDDY KOPPEL""",

	"reddy koppel journal": """Date: 17:10:43 17 September 3030 EET

	Things to do after the RIP jump:
	- Book hotel on Luna for shore leave ASAP. Do not forget!!!
	- Make appointment with psych. Bad dreams probably about the divorce.
	- Clean the fridge.""",
	
	"reddy koppel waking": """Waking routine activated.""",
	
	"alisha doil": """ALISHA DOIL""",

	"alisha doil journal": """Date: 15:01:44 17 September 3030 EET

	I've been thinking about it, and there's probably a more efficient way to mine ripcoins if the RIP drive is close to a binary black hole system, especially if the black holes have a rapid orbit around one another. Gravitational forces might be a problem. Will look into this later.""",
	
	"alisha doil waking": """Waking routine activated.""",

	"battery door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",
	
	"battery door status unlocked": """EMERGENCY LOCK ACTIVATED
	
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	ERROR: LOCK NON_RESPONSIVE. THIS DOOR MAY NOT FUNCTION AS INTENDED.""",
	
	"open battery door unlocked": """Door override enabled.""",
	
	"apply battery to door": """BZZZZZT""",
	
	"axe door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",
	
	"axe door status unlocked": """EMERGENCY LOCK ACTIVATED
	
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	ERROR: OBSTACLE DETECTED""",
	
	"open axe door unlocked": """The door is jammed open.""",
	
	"apply axe to door": """Success.""",
	
	"cabin door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	A crew member has written in marker on the door.
	
	\"No ROBOTS admitted without human supervision!\"""",
	
	"open door locked": """The door won't open.""",

	"bridge door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",

	"reactor room door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",

	"axe holder with axe": """In case of emergency, break glass.""",
	
	"axe holder without axe": """The fire axe cabinet's glass has been smashed in.""",
	
	"take axe": """Wallmutt Fire Axe - Real™ oak handle
	Caution: flammable""",
	
	"carrying axe": """Wallmutt Fire Axe - Real™ oak handle
	Caution: flammable""",
	
	"look at axe": """There is a fire axe on the ground.""",
	
	"pick up axe": """Wallmutt Fire Axe - Real™ oak handle
	Caution: flammable""",

	"nav computer message": """“Hi there! Tell me where you want to go!”""",

	"main computer message": """User ID: 
	Password: """,

	"instance processor message": """-- sleep mode --""",

	"postit note text": """ID: admin
	PW: ripcoinzzz1!""",
	
	"gun holder with gun": """A display case with a gun on it. It looks super awesome.""",
	
	"gun holder without gun": """Empty display case.""",
	
	"take gun": """The display case opens.""",

	"look at gun": """SAG-9000: We put the AI in AIM!""",
	
	"pick up gun": """SAG-9000: We put the AI in AIM!
	
	The trigger appears to be biometrically activated.""",
	
	"carrying gun": """SAG-9000 is equipped.""",

	"main computer login success": """Login successful! What would you like to do?""",
	
	"view log": """We are prepped and ready for the next RIP jump. I have warned the crew that based on the incidence pattern so far, we are likely to encounter void interference. However, this was dismissed by Captain Koppel. Should anything go wrong, I will quote him for posterity: 'Eh, no big deal. You bots are always so paranoid. Just chill out and enjoy the ride.'""",

	"self destruct 1": """Are you sure?""",
	
	"self destruct 2": """The self destruct count down is very short and there seems to be no way to stop it.""",
	
	"take key 1": """The shield over the security fob retracts and you take it.""",
	
	"take key 2": """The shield over the security fob retracts, but the receptacle is already empty.""",
	
	"look at fob": """There appears to be a security fob lying on the ground. It looks like a piece of garbage.""",
	
	"carrying fob": """Don’t lose me! There are no more spare copies!""",
	
	"pick up fob": """Don’t lose me! There are no more spare copies!""",

	"ripdrive menu": """Welcome to the Recursive Instance Projector Drive!
	
	Your software has been updated.
	
	Please reviNew features adddfgj,f,vzzzz#11
	
	1. Send a message
	2. Send an object""",
	
	"rip drive": """Welcome to the Recursive Instance Projector Drive!
	
Yo.r sofvware licensd exp-red 43 years$ago.J

RIQ\"sequeoce loaded. Oinfirm""",
	
	"rip comp opt 1": """Please type your message:""",
	
	"rip comp opt 2": """Send an object""",

	"reactor terminal message": """Access to reactor terminal granted! What would you like to do?
	Power up the reactor -> already on! Cannot.
	Power down the reactor -> reactor powers down""",
	
	"rip drive final": """R.I.P. Drive activated. Recursion engine spinning up. Continuum synchronisation complete. Entangling quantum blockchain. Preparing to project in 10...9...""",
	
	"reactor greeting": """Welcome to the reactor terminal! What would you like to do?
	""",
	
	"maintenance denied": """Access denied.""",
	
	"maintenance approved": """Maintenance mode enabled.""",
	
	"key inserted": """Security key accepted. Access granted.""",
	
	"monster released": """Congratulations! You have cleared the contaminant from the reactor.""",
	
	"stabilise reaction": """Reactor status: stable""",
}

const endings = {
	"incident report good": """INCIDENT REPORT
	CATEGORY: NEAR MISS
	According to records, this is the third time a void contaminant has been found in the reactor after a RIP jump. Thankfully, there was no physical damage to the ship or its occupants. What is causing these incidents? Is the Health and Safety team even reading these reports?""",
	
	"incident report bad": """INCIDENT REPORT
	CATEGORY: PSYCHOLOGICAL INJURY

	According to records, this is the third time a void contaminant has been found in the reactor after a RIP jump. Thankfully, there was no physical damage to the ship or its occupants, though several human crew members have developed severe void dementia. They were put into cryo-sleep and delivered to health care facilities at the recent planetside rendezvous. What is causing these incidents? Is the Health and Safety team even reading these reports?""",
	
	"robot dead end": """-- memory chip not found --
	-- qubit core not found --
	-- superdeep logic module not found --
	-- error --
	-- error --
	-- error --""",
	
	"anfelice gray good end": """“Gosh, that was awful. I'm going to apply for a transfer. NO space travel and NO cryo-sleep, thank you very much!”""",
	
	"anfelice gray bad end": """“There's nothing. There's nothing. There's nothing.”""",
	
	"whetu ng good end": """“Steve, you better give me those 20 ripcoins, or I'm flushing your bottle cap collection out of the airlock!”""",
	
	"whetu ng bad end": """“My name? I can't remember.”""",
	
	"steve lowry good end": """“I told Whetu that I was investing his money. I can't just uninvest it! Anyway, he now owns 1/32 of an ice farm in the belt. When the ice matures, we'll harvest and sell it off. I don't know why he's so upset. This is nothing like my vacuum bottling business.”""",

	"steve lowry bad end": """“The cucumber-- It's after us!”""",
	
	"jonie hoff good end": """“Forget what I said about quitting finance. The latest ripcoin haul was MASSIVE. I'm buying a yacht and one of those cute robotic poodles with Daisy's memories built into it. Then I'm going into solo consulting. Five year plan, here I come!”""",
	"jonie off bad end": """“Have you seen the endless black abyss?”""",
	
	"reddy koppel good end": """If we stop for maintenance now, that’s two RIP jumps lost. NO ONE is going to be happy about that, not the higher ups and not the crew. It's been okay so far, so the ship will hang on a little longer.""",
	
	"reddy koppel bad end": """Alone in space, alone in space.""",
	
	"alishia doil good end": """“There's something wrong. Too many people are having strange experiences while in cryo. Maybe the chambers are malfunctioning? I guess the medic techs will handle it. I need to get back to working on the black hole idea.”""",

	"alisha doil bad end": "“Don't bother me. The void calls.”",
}

static func default_done() -> Option:
	return Option.new(100, "done")

static func default_drop() -> Option:
	return Option.new(99, "drop")

class Option:
	var id: int
	var label: String
	
	func _init(id: int, label: String):
		self.id = id
		self.label = label

class Message:
	var text_id: String
	var options #Option
	
	func _init(text_id: String, options):
		self.options = options
		self.text_id = text_id
