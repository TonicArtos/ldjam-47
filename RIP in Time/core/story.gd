class_name Story

const text = {
	"msg from future1": """Transmitted: 00:13:06 10 October 3030 EET
	Received: 00:10:18 10 October 3030 EET""",
	
	"msg from future2": "The main ship reactor has malfunctioned and the RIP drive has become unstable. Error code 137: foreign contaminant in the recursion continuum fluid. You must enter the reactor room, remove the contaminant, and repair the fault. The RIP drive will undergo catastrophic meltdown after activation, so you can use it only once. Good luck.",
	
	"key delivered": """Key delivered. Original message as follows.
	
	A security fob falls to the ground from an unusual rip in the fabric of reality.
	""",
	
	"look at rip room": "This is the R.I.P. Drive room. For more than 40 years you have been tasked with the regular maintainence of the drive, though nobody saw fit to ever inform you of how it actually works.",
	
	"look at link room": "Cryo-pods line the walls. The bodies of the crew are barely visible behind the layers of glass and super-chilled gas.",
	
	"look at bridge room": "The bridge is the nerve center of ship. Though the real work happens on the far side of the crew cabins where the machine shop is. Not to mention the four kilometre long ripcoin harvesters dangling from the tiny habitation module.",
	
	"look at reactor room": "This is the R.I.P. Drive room. You are tasked with the regular maintainence of the drive, though nobody saw fit to ever inform you of how it works.",
	
	"throw key": "You throw the key into the rip. As the key vanishes, the sound of a distant explosion assaults your sensors.",
	
	"carrying battery": """You are carrying a battery. You hungrily turn it over and study the terminals. On it is written.
	
	Mini-Fuse 5778K
	“The power of the Sun in the palm of your hand.”""",
	
	"look at battery": """There is a mini fusion battery on the ground.""",
	
	"pick up battery": """You pick up the battery. It looks tasty. On it is written.
	
	Mini-Fuse 5778K
	“The power of the Sun in the palm of your hand.”""",

	"operate rip drive": "You start the rip sequence to head back to civilisation and the RIP Drive thrums to life, but something seems to be wrong. The radio signal appears to have modified its programming. A tiny rip in space tears open before you as you hear the ship's reactor containment alarm begin to sound.",
	
	"rip drive running": "The RIP drive terminal doesn't respond. The modification must have blown its logic circuits once it started the RIP operation.",
	
	"inspect rip drive": "You were tasked with maintaining the drive, but nobody ever told you how. You give the body of the device a good look over anyway. It would appear that the strange vibration earlier has not affected it. You notice there is a auxiliary battery plugged in.",
	
	"remove battery": """You remove the battery from its socket. On it is written.
	
	Mini-Fuse 5778K
	“The power of the Sun in the palm of your hand.”""",
	
	"inspect rip drive battery gone": """You were tasked with maintaining the drive, but nobody ever told you how. You give the body of the device a good look over anyway. It would appear that the strange vibration earlier has not affected it. The socket for the auxiliary battery is now empty.""",
	
	"already carrying item": "You are already carrying an item",
	
	"anfelice gray journal": """ANFELICE GRAY
	JOURNAL ENTRY
	Date: 14:14:59 17 September 3030 EET

	Last time we went to sleep, I had the worst nightmare. A tiny black hole blasted through the ship and sucked us in one by one. Even though we’re meant to be near-dead in the cryo-pods, I felt the terror in my bones. It made me dread this sleep. I hope we don’t have to do many more jumps after this, because I don’t think I can take it.""",

	"whetu ng journal": """WHETU NG
	JOURNAL ENTRY
	Date: 13:58:32 17 September 3030 EET

	REMINDER FOR WHEN YOU’RE AWAKE! Steve owes you 20 ripcoins. Don’t let him scam you this time.""",

	"steve lowry journal": """STEVE LOWRY
	JOURNAL ENTRY
	Date: 18:06:56 17 September 3030 EET

	Robbie’s getting smarter. The other day, I told her that the eliminator in cubicle 6 was busted. When she went to inspect it, I put a cucumber behind her so she’d see it and freak out when she turned around. I thought she was just checking out the plumbing, so I waited a bit, but then she asked me to get her a plunger. I turned around and tripped right over her damn arm! I don’t know how she got it there without me noticing, but boy did it hurt when I hit the floor. We should turn the gravity down in this place.""",

	"jonie hoff journal": """JONIE HOFF
	JOURNAL ENTRY
	Date: 11:12:13 17 September 3030 EET

	I’m tired of the finance industry. We’re out here doing the hard labour while the fat cats are windsurfing on Europa or whatever it is they do all day. When my tour is over, my friends will all be retired and kicking back with their grandkids, and I’m going to be in my thirties. Don’t even get me started on the nightmares….""",

	"reddy koppel journal": """REDDY KOPPEL
	JOURNAL ENTRY
	Date: 17:10:43 17 September 3030 EET

	Things to do after the RIP jump:
	- Book hotel on Luna for shore leave ASAP. Do not forget!!!
	- Make appointment with psych. Bad dreams probably about the divorce.
	- Clean the fridge.""",

	"alisha doil journal": """ALISHA DOIL
	JOURNAL ENTRY
	Date: 15:01:44 17 September 3030 EET

	I’ve been thinking about it, and there’s probably a more efficient way to mine ripcoins if the RIP drive is close to a binary black hole system, especially if the black holes have a rapid orbit around one another. Gravitational forces might be a problem. Will look into this later.""",

	"battery door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",
	
	"battery door status unlocked": """EMERGENCY LOCK ACTIVATED
	
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	ERROR: LOCK NON_RESPONSIVE. THIS DOOR MAY NOT FUNCTION AS INTENDED.""",
	
	"open battery door unlocked": """The door emits sparks and a little smoke as it opens, but nothing else untoward happens and you trundle through.""",
	
	"apply battery to door": """You press the battery terminals to the door pad and hold down the battery's emergency discharge button. A bolt of electricity leaps across the keypad and door frame as the \"power of the sun\" is unleashed. After a moment, smoke belches from the key pad and the door groans. On the door pad, a lock symbol flashes for a moment before finally fading away.""",
	
	"axe door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",
	
	"axe door status unlocked": """EMERGENCY LOCK ACTIVATED
	
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	A fire axe has been jammed into the mechanism and is propping the door open.""",
	
	"open axe door unlocked": """You grasp the door and pull it high enough to lever yourself through the gap. after you pass through, the door crunches down onto the axe driving it further into the door's mechanism.""",
	
	"apply axe to door": """You wedge the fire axe into the base of the door, enough to get your single Xenotron Manipulator Mark V (patent pending) in the crack. You use your superior robot strength to lever the door open and search for a way to keep it like that. Your servos scream as you manage to shoulder your way under the door and take its weight. You try to grab the axe, but in the struggle it has somehow wedged into the door's mechanism. You manage to adjust it somewhat to keep the door propped open, making passing through the door a little easier.""",
	
	"cabin door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE
	
	A crew member has written in marker on the door.
	
	\"No ROBOTS admitted without human supervision!\"""",
	
	"open door locked": """The door won't open.""",

	"bridge door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",

	"reactor room door status": """EMERGENCY LOCK ACTIVATED
	CONDITION 8: SUDDEN LOSS OF CABIN PRESSURE""",

	"axe holder with axe": """In case of emergency, break glass. Behind the glass is a fire axe.""",
	
	"axe holder without axe": """The fire axe cabinet's glass has been smashed in.""",
	
	"take axe": """You smash the glass and take the axe from inside. A human might have worried about cuts from the glass shards, but they don't even leave a mark on your dull metal exterior.""",
	
	"carrying axe": """You are carrying a fire axe. On it is written.
	
	Wallmutt Fire Axe - Real™ oak handle
	Caution: flammable""",
	
	"look at axe": """There is a fire axe on the ground.""",
	
	"pick up axe": """You pick up the axe. On it is written.
	
	Wallmutt Fire Axe - Real™ oak handle
	Caution: flammable""",

	"nav computer message": """“Hi there! Tell me where you want to go!”""",

	"main computer message": """User ID: 
	Password: """,

	"instance processor message": """-- sleep mode --""",

	"postit note text": """ID: admin
	PW: ripcoinzzz1!""",

	"look at gun": """There is a gun in front of you. It looks pretty flash.""",
	
	"pick up gun": """You pick up the gun. Pity, it has a biometric trigger. Proudly emblazoned on its side is some human nonsense.
	
	SAG-9000
	“We put the AI in AIM!”""",
	
	"carrying gun": """You are carrying a gun. You could cause some real damage with it, that is if it didn't have a biometric trigger. On it is written.
	
	SAG-9000
	“We put the AI in AIM!”
	
	You wonder how the AI feels about that.""",

	"main commputer login success": """Login successful! What would you like to do?""",
	
	"main computer options": """1. View ship log
	2. Initiate self-destruct sequence
	3. Access security fob""",
	
	"main comp opt 1": """We are prepped and ready for the next RIP jump. I have warned the crew that based on the incidence pattern so far, we are likely to encounter void interference. However, this was dismissed by Captain Koppel. Should anything go wrong, I will quote him for posterity: “Eh, no big deal. You bots are always so paranoid. Just chill out and enjoy the ride.”""",

	"main comp opt 2": """Are you sure?""",
	
	"main comp opt 3": """Access security fob""",
	
	"look at fob": """There appears to be a security fob lying on the ground. You thought you'd thrown all of these in the trash.""",
	
	"carrying fob": """You are carrying a security fob. It has something written on it.
	
	Don’t lose me! There are no more spare copies!""",
	
	"pick up fob": """You pick up the security fob. It has something written on it.
	
	Don’t lose me! There are no more spare copies!""",

	"ripdrive menu": """Welcome to the Recursive Instance Projector Drive!
	
	Your software has been updated.
	
	Please reviNew features adddfgj,f,vzzzz#11
	
	1. Send a message
	2. Send an object""",
	
	"rip drive": """Welcome to the Recursive Instance Projector Drive!
	
Yo.r sofvware licensd exp-red 43 years$ago.J

RIQ\"sequeoce loaded. Oinfirm""",
	
	"rip comp opt 1": """Please type your message:""",
	
	"rip comp opt 2": """Send an object""",

	"reactor terminale message": """Access to reactor terminal granted! What would you like to do?
	Power up the reactor -> already on! Cannot.
	Power down the reactor -> reactor powers down""",
	
	"incident report good": """INCIDENT REPORT
	CATEGORY: NEAR MISS
	According to records, this is the third time a void contaminant has been found in the reactor after a RIP jump. Thankfully, there was no physical damage to the ship or its occupants. What is causing these incidents? Is the Health and Safety team even reading these reports?""",
	
	"incident report bad": """INCIDENT REPORT
	CATEGORY: PSYCHOLOGICAL INJURY

	According to records, this is the third time a void contaminant has been found in the reactor after a RIP jump. Thankfully, there was no physical damage to the ship or its occupants, though several human crew members have developed severe void dementia. They were put into cryo-sleep and delivered to health care facilities at the recent planetside rendezvous. What is causing these incidents? Is the Health and Safety team even reading these reports?""",

	"robot dead end": """-- memory chip not found --
	-- qubit core not found --
	-- superdeep logic module not found --
	-- error --
	-- error --
	-- error --""",
	
	"anfelice gray good end": """“Gosh, that was awful. I’m going to apply for a transfer. NO space travel and NO cryo-sleep, thank you very much!”""",
	
	"anfelice gray bad end": """“There’s nothing. There’s nothing. There’s nothing.”""",
	
	"whetu ng good end": """“Steve, you better give me those 20 ripcoins, or I’m flushing your bottle cap collection out of the airlock!”""",
	
	"whetu ng bad end": """“My name? I can’t remember.”""",
	
	"steve lowry good end": """“I told Whetu that I was investing his money. I can’t just uninvest it! Anyway, he now owns 1/32 of an ice farm in the belt. When the ice matures, we’ll harvest and sell it off. I don’t know why he’s so upset. This is nothing like my vacuum bottling business.”""",

	"steve lowry bad end": """“The cucumber-- It’s after us!”""",
	
	"jonie hoff good end": """“Forget what I said about quitting finance. The latest ripcoin haul was MASSIVE. I’m buying a yacht and one of those cute robotic poodles with Daisy’s memories built into it. Then I’m going into solo consulting. Five year plan, here I come!”""",

	"jonie off bad end": """“Have you seen the endless black abyss?”""",
	
	"reddy koppel good end": """“If we stop for maintenance now, that’s two RIP jumps lost. NO ONE is going to be happy about that, not the higher ups and not the crew. It’s been okay so far, so the ship will hang on a little longer.”""",
	
	"reddy kopel bad end": """“Alone in space, alone in space.”""",
	
	"alishia doil good end": """“There’s something wrong. Too many people are having strange experiences while in cryo. Maybe the chambers are malfunctioning? I guess the medic techs will handle it. I need to get back to working on the black hole idea.”""",

	"alisha doil bad end": "“Don’t bother me. The void calls.”",
}

static func default_done() -> Option:
	return Option.new(100, "done")

static func default_drop() -> Option:
	return Option.new(99, "drop")

class Option:
	var id: int
	var label: String
	
	func _init(id: int, label: String):
		self.id = id
		self.label = label

class Message:
	var text_id: String
	var options #Option
	
	func _init(text_id: String, options):
		self.options = options
		self.text_id = text_id
